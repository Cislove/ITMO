<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Проверка попадания точки в область</title>
    <link rel="stylesheet" href="./styles.css">
    <script src="./script.js" defer></script>
</head>
<body>
    <header>
        <h1 id ="laboratory-work">Лабораторная работа</h1>
        <p>ФИО: Рахимов Ильнар Ильдарович</p>
        <p>Группа: P3219</p>
        <p>Вариант: 409442</p>
    </header>
    
    <main>
        <section>
            <h2>Форма для ввода данных</h2>
            <div id="section">
            <form id="check-form" action="process" method="GET">
                <label>Координата X:</label>
                <div id="x-checkboxes">
                    <input type="checkbox" id="x-4" name="x" value="-4">
                    <label for="x-4">-4</label>
                
                    <input type="checkbox" id="x-3" name="x" value="-3">
                    <label for="x-3">-3</label>
                
                    <input type="checkbox" id="x-2" name="x" value="-2">
                    <label for="x-2">-2</label>
                
                    <input type="checkbox" id="x-1" name="x" value="-1">
                    <label for="x-1">-1</label>
                
                    <input type="checkbox" id="x0" name="x" value="0">
                    <label for="x0">0</label>
                
                    <input type="checkbox" id="x1" name="x" value="1">
                    <label for="x1">1</label>
                
                    <input type="checkbox" id="x2" name="x" value="2">
                    <label for="x2">2</label>
                
                    <input type="checkbox" id="x3" name="x" value="3">
                    <label for="x3">3</label>
                
                    <input type="checkbox" id="x4" name="x" value="4">
                    <label for="x4">4</label>
                </div>
                <br><label for="y">Координата Y:</label>
                <div id="input-text">
                <input type="text" id="y" name="y" required>
                </div>

                <br><label for="r-buttons">Параметр R:</label>
                <div id="r-buttons">
                    <button type="button" class="r-button" value="1">1</button>
                    <button type="button" class="r-button" value="2">2</button>
                    <button type="button" class="r-button" value="3">3</button>
                    <button type="button" class="r-button" value="4">4</button>
                    <button type="button" class="r-button" value="5">5</button>

                    <input type="hidden" id="r-value" name="r">
                </div>

                <br><button id="submit" data-tooltip="Нажмите для отправки" type="submit">SEND</button>
            </form>
            <canvas id="canvas" width="400" height="400"></canvas>
            <script>
                const canvas = document.getElementById('canvas');
                const ctx = canvas.getContext('2d');
                const R = 100; 
                
                // Центр координат
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;

                // Настройки стиля
                ctx.fillStyle = "rgba(66, 170, 255, 0.8)";
                ctx.strokeStyle = "black";
                ctx.lineWidth = 1;

                // Прямоугольник
                ctx.beginPath();
                ctx.rect(centerX , centerY - R, R/2, R);
                ctx.fill();

                // Треугольник
                ctx.beginPath();
                ctx.moveTo(centerX - R / 2, centerY);
                ctx.lineTo(centerX, centerY + R);
                ctx.lineTo(centerX, centerY);
                ctx.closePath();
                ctx.fill();

                // Четверть круга
                ctx.beginPath();
                ctx.arc(centerX, centerY, R, 0, Math.PI / 2, false);
                ctx.lineTo(centerX, centerY);
                ctx.closePath();
                ctx.fill();

                // Рисуем оси
                ctx.beginPath();
                ctx.moveTo(centerX, 50);
                ctx.lineTo(centerX , canvas.height - 50);
                ctx.moveTo(50, centerY);
                ctx.lineTo(canvas.width - 50, centerY);
                ctx.strokeStyle = "black";
                ctx.stroke();

                // Подписи на осях
                ctx.font = "bold 16px Arial ";
                ctx.fillStyle = "black";
                // ctx.fillText("0", centerX + 5, centerY + 15);
                ctx.fillText("R", centerX + R - 5, centerY + 15);
                ctx.fillText("R/2", centerX + R / 2 - 10, centerY + 15);
                ctx.fillText("-R/2", centerX - R / 2 - 20, centerY + 15);
                ctx.fillText("-R", centerX - R - 15, centerY + 15);
                ctx.fillText("R", centerX + 5, centerY - R + 5);
                ctx.fillText("R/2", centerX + 5, centerY - R / 2 + 5);
                ctx.fillText("-R/2", centerX + 5, centerY + R / 2 + 5);
                ctx.fillText("-R", centerX + 5, centerY + R + 5);
            </script>
        </div>
        </section>
        <section id="error-message" style="display: none; text-align: center; color: red;">
            <p>'Ошибка: ' + 'сервер не отвечает'</p>
        </section>
        <section>
            <h2>Результаты</h2>
            <table id="results">
                <thead>
                    <tr>
                        <th>X</th>
                        <th>Y</th>
                        <th>R</th>
                        <th>Результат</th>
                        <th>Время запроса</th>
                        <th>Время обработки</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </section>
    </main>
</body>
</html>